<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hack-a-Mini</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Press Start 2P', cursive;
  min-height: 100vh;
  background: linear-gradient(135deg, #ff9800 0%, #fdbc3d 50%, #fbc02d 100%);
  color: white;
  text-align: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: cover;
  overflow-x: hidden;
}

/* Responsive container */
.timer-container {
  position: relative;
  margin: 0 auto;
  padding: 2rem 1rem;
  max-width: 700px;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 2;
}

h1 {
  font-size: 6vw;
  text-shadow: 2px 2px 4px black;
  margin-top: 0;
  margin-bottom: 18px;
  word-break: break-word;
}

h3 {
  font-size: 3vw;
}

#timer {
  font-size: 8vw;
  color: red;
  text-shadow: 3px 3px 6px black;
  margin-top: 20px;
  margin-bottom: 26px;
}

.logo {
  position: absolute;
  left: 2vw;
  top: 2vw;
  max-width: 35vw;
  width: 100%;
  height: auto;
  z-index: 10;
}

.mario {
  width: 9vw;
  min-width: 38px;
  position: absolute;
  bottom: 2vw;
  left: 0;
  animation: run 20s linear infinite;
  display: none;
  z-index: 20;
}

@keyframes run {
  from { left: -100px; }
  to { left: 100vw; }
}

.coin {
  position: fixed;
  top: 20vh;
  left: 50vw;
  width: 6vw;
  max-width: 40px;
  height: 6vw;
  max-height: 40px;
  background: url('coin.png') no-repeat center/contain;
  z-index: 20;
  animation: coin-float 4s linear;
}
@keyframes coin-float {
  from { opacity: 1; top: 20vh;}
  to { opacity: 0; top: 5vh;}
}

/* Side images */
.side-img {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  width: 18vw;
  max-width: 140px;
  height: auto;
  z-index: 5;
}
.left-img {
  left: 2vw;
}
.right-img {
  right: 2vw;
}
.bottom-img {
  position: fixed;
  left: 87vw;
  bottom: 0;
  transform: translateX(-50%);
  width: 18vw;
  max-width: 200px;
  height: auto;
  z-index: 10;
  pointer-events: none;
}
.bottom-im {
  position: fixed;
  left: 13vw;
  bottom: 0;
  transform: translateX(-50%);
  width: 13vw;
  max-width: 150px;
  height: auto;
  z-index: 20;
  pointer-events: none;
}

/* Make images responsive */
img {
  max-width: 100%;
  height: auto;
}

/* Extra Mobile Tweaks */
@media (max-width: 900px) {
  .logo { max-width: 45vw; }
  .side-img { width: 22vw; max-width: 85px; }
  .bottom-img { width: 22vw; max-width: 110px; }
  .bottom-im { width: 17vw; max-width: 90px; }
  h1 { font-size: 8vw; }
  h3 { font-size: 4vw; }
  #timer { font-size: 11vw; }
  .mario { width: 7vw; }
}
@media (max-width: 600px) {
  .logo { max-width: 65vw; left: 2vw; top: 1vw; }
  .side-img { width: 32vw; max-width: 60px; }
  .bottom-img { width: 32vw; max-width: 60px; }
  .bottom-im { width: 27vw; max-width: 45px; }
  h1 { font-size: 10vw; }
  h3 { font-size: 6vw; }
  #timer { font-size: 14vw; }
  .mario { width: 12vw; min-width: 24px; }
}

  </style>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
  <img src="logo.png" alt="Logo" class="logo">
  <img src="left.png" alt="Left side image" class="side-img left-img">
  <img src="right.png" alt="Right side image" class="side-img right-img">
  <img src="3.png" alt="Bottom image" class="bottom-img">
  <img src="b.png" alt="Bottom image" class="bottom-im">
  <div class="timer-container">
    <h1>Hack-a-Mini</h1>
    <h3 style="color: #212121; margin-top: 0; margin-bottom: 18px;">Presented by Lords Skill Academy</h3>
    <div id="timer">06:00:00</div>
  </div>
  <img src="mario.png" class="mario" id="mario" alt="Mario running">

  <!-- The rest of your JS remains unchanged -->
  <script>
    // Game timing setup
    const startDateTime = new Date("2025-09-15T12:00:00");
    const endDateTime = new Date("2025-09-15T18:00:00");

    const timerEl = document.getElementById("timer");
    const marioEl = document.getElementById("mario");

    let waitingInterval;
    let timerInterval;
    let coinInterval;
    let music;
    let waitMusic;

    function showWaitingCountdown() {
      const now = new Date();
      let timeLeft = Math.floor((startDateTime - now) / 1000);

      if (timeLeft > 0) {
        let hours = Math.floor(timeLeft / 3600);
        let minutes = Math.floor((timeLeft % 3600) / 60);
        let seconds = timeLeft % 60;
        timerEl.textContent = `Game starts in ${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        marioEl.style.display = "none";

        // Play waiting music if not already playing
        if (!waitMusic || waitMusic.paused) {
          if (waitMusic) waitMusic.pause();
          waitMusic = new Audio("wait-music.mp3");
          waitMusic.loop = true;
          waitMusic.volume = 0.4;
          waitMusic.play().catch(() => {/* Autoplay might be blocked */});
        }
      } else {
        clearInterval(waitingInterval);
        if (waitMusic) waitMusic.pause();
        startGameTimer();
      }
    }

    function startGameTimer() {
      // Show Mario sprite
      marioEl.style.display = "block";
      // Start Mario music
      const musicTracks = ["music.mp3"];
      const chosenTrack = musicTracks[Math.floor(Math.random() * musicTracks.length)];
      music = new Audio(chosenTrack);
      music.loop = true;
      music.volume = 0.4;
      music.play().catch(() => {/* Autoplay might be blocked */});

      // Start timer and coins
      timerInterval = setInterval(updateTimer, 1000);
      updateTimer();
      coinInterval = setInterval(spawnCoin, 30000);
    }

    function updateTimer() {
      const now = new Date();
      let timeLeft = Math.floor((endDateTime - now) / 1000);

      if (timeLeft > 0) {
        let hours = Math.floor(timeLeft / 3600);
        let minutes = Math.floor((timeLeft % 3600) / 60);
        let seconds = timeLeft % 60;

        timerEl.textContent =
          String(hours).padStart(2, '0') + ":" +
          String(minutes).padStart(2, '0') + ":" +
          String(seconds).padStart(2, '0');
      } else {
        timerEl.textContent = "00:00:00";
        clearInterval(timerInterval);
        clearInterval(coinInterval);
        if (music) music.pause();
        new Audio("https://archive.org/download/SuperMarioBrosLevelComplete/smb_level_complete.mp3").play();
        alert("⏰ Time’s up! Mario wins!");
      }
    }

    function spawnCoin() {
      const coin = document.createElement("div");
      coin.classList.add("coin");
      coin.style.left = Math.random() * 90 + "vw";
      document.body.appendChild(coin);

      new Audio("https://archive.org/download/SuperMarioCoinSoundEffect/smb_coin.mp3").play();

      setTimeout(() => {
        coin.remove();
      }, 4000);
    }

    // Initial waiting countdown or start game
    if (new Date() < startDateTime) {
      showWaitingCountdown();
      waitingInterval = setInterval(showWaitingCountdown, 1000);
    } else if (new Date() < endDateTime) {
      startGameTimer();
    } else {
      timerEl.textContent = "00:00:00";
      marioEl.style.display = "none";
    }
  </script>
</body>
</html>
